{"remainingRequest":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/node_modules/babel-loader/lib/index.js!/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/src/components/account/ViewAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/src/components/account/ViewAccount.vue","mtime":1616661226558},{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9rb25zdGFudGluZ2Fzc2VyL2dvL3NyYy9naXRodWIuY29tL0tvbnN0YW50aW5HYXNzZXIvY2xpY2tzdHJlYW0vZnJvbnRlbmQvd2ViYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdWaWV3QWNjb3VudCcsCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIHRva2VuOiAnJywKICAgICAgdXNlcjogewogICAgICAgIGZpcnN0X25hbWU6IG51bGwsCiAgICAgICAgbGFzdF9uYW1lOiBudWxsLAogICAgICAgIG9yZ25fZG9tYWluOiBudWxsLAogICAgICAgIG9yZ25fcG9zaXRpb246IG51bGwsCiAgICAgICAgdXNlcm5hbWU6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyB0aGlzLmdldFRva2VuKCk7CiAgICB0aGlzLnVzZXIgPSB0aGlzLmZldGNoVXBkYXRlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUb2tlbjogZnVuY3Rpb24gZ2V0VG9rZW4oKSB7CiAgICAgIHZhciBwYXJzZUp3dCA9IGZ1bmN0aW9uIHBhcnNlSnd0KHRva2VuKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGF0b2IodG9rZW4uc3BsaXQoJy4nKVsxXSkpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIHJldHVybiBwYXJzZUp3dChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKSk7CiAgICB9LAogICAgdXBkYXRlQWNjb3VudDogZnVuY3Rpb24gdXBkYXRlQWNjb3VudCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG9wdGlvbnMsIHJlc3A7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgb3B0aW9ucyA9IHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS92Mi92aWV3L2FjY291bnQvdXBkYXRlIiwgewogICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lOiBfdGhpcy51c2VyLmZpcnN0X25hbWUsCiAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogX3RoaXMudXNlci5sYXN0X25hbWUsCiAgICAgICAgICAgICAgICAgIG9yZ25fcG9zaXRpb246IF90aGlzLnVzZXIub3Jnbl9wb3NpdGlvbgogICAgICAgICAgICAgICAgfSwgb3B0aW9ucyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlc3Auc3RhdHVzICE9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3QuZXJyb3IoIk1obSBzb3JyeSB3ZSBjb3VsZCBub3QgdXBkYXRlIHlvdXIgYWNjb3VudCIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfdGhpcy4kdG9hc3Quc3VjY2VzcygiQ29vbCB5b3VyIGFjY291bnQgaXMgdXBkYXRlZCEiKTsgLy8gZmV0Y2ggdXBkYXRlZCB1c2VyCgoKICAgICAgICAgICAgICAgIF90aGlzLmZldGNoVXBkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBmZXRjaFVwZGF0ZTogZnVuY3Rpb24gZmV0Y2hVcGRhdGUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIHV1aWQgPSB0aGlzLmdldFRva2VuKCkudXVpZDsKICAgICAgYXhpb3MuZ2V0KCJodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3YyL3ZpZXcvYWNjb3VudCIsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsKICAgICAgICBfdGhpczIudXNlciA9IHJlc3AuZGF0YS51c2VyOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi51c2VyKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGlmIChlcnIucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwoKICAgICAgICAgIF90aGlzMi4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICBuYW1lOiAnbG9naW4nCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/webapp/src/components/account/ViewAccount.vue"],"names":[],"mappings":";;;;;AA2DI,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,aADK;AAEX,EAAA,UAAU,EAAE,EAFD;AAIX,EAAA,IAJW,kBAIJ;AACH,WAAO;AACH;AACA,MAAA,IAAI,EAAE;AACF,QAAA,UAAU,EAAE,IADV;AAEF,QAAA,SAAS,EAAE,IAFT;AAGF,QAAA,WAAW,EAAE,IAHX;AAIF,QAAA,aAAa,EAAE,IAJb;AAKF,QAAA,QAAQ,EAAE;AALR;AAFH,KAAP;AAUH,GAfU;AAgBX,EAAA,OAhBW,qBAgBD;AACN;AACA,SAAK,IAAL,GAAY,KAAK,WAAL,EAAZ;AACH,GAnBU;AAoBX,EAAA,OAAO,EAAE;AACL,IAAA,QADK,sBACM;AACP,UAAM,QAAO,GAAI,SAAX,QAAW,CAAC,KAAD,EAAW;AACxB,YAAI;AACF,iBAAO,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,KAAK,CAAC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAP;AACF,SAFA,CAEE,OAAO,CAAP,EAAU;AACV,iBAAO,IAAP;AACF;AACH,OAND;;AAOA,aAAO,QAAQ,CAAC,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAD,CAAf;AACH,KAVI;AAWC,IAAA,aAXD,2BAWiB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,gBAAA,OADc,GACJ;AACV,kBAAA,OAAO,EAAE;AACL,oCAAgB,kBADX;AAEL,qCAAiB,YAAY,CAAC,OAAb,CAAqB,OAArB;AAFZ;AADC,iBADI;AAAA;AAAA,uBAQC,KAAK,CAAC,IAAN,CAAW,kDAAX,EAA+D;AAC9E,kBAAA,UAAU,EAAE,KAAI,CAAC,IAAL,CAAU,UADwD;AAE9E,kBAAA,SAAS,EAAE,KAAI,CAAC,IAAL,CAAU,SAFyD;AAG9E,kBAAA,aAAa,EAAE,KAAI,CAAC,IAAL,CAAU;AAHqD,iBAA/D,EAIhB,OAJgB,CARD;;AAAA;AAQZ,gBAAA,IARY;;AAAA,sBAad,IAAI,CAAC,MAAL,KAAgB,GAbF;AAAA;AAAA;AAAA;;AAcd,gBAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,4CAAlB;;AAdc;;AAAA;AAiBlB,gBAAA,KAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,+BAApB,EAjBkB,CAkBlB;;;AACA,gBAAA,KAAI,CAAC,WAAL;;AAnBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBrB,KA/BI;AAgCL,IAAA,WAhCK,yBAgCS;AAAA;;AACV,UAAI,OAAM,GAAI;AACV,QAAA,OAAO,EAAE;AACL,2BAAiB,YAAY,CAAC,OAAb,CAAqB,OAArB;AADZ;AADC,OAAd;AAMA,UAAI,IAAG,GAAI,KAAK,QAAL,GAAgB,IAA3B;AACA,MAAA,KAAK,CAAC,GAAN,CAAU,2CAAV,EAAuD,OAAvD,EAAgE,IAAhE,CAAqE,UAAA,IAAG,EAAK;AACzE,QAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,QAAA,MAAI,CAAC,IAAL,GAAY,IAAI,CAAC,IAAL,CAAU,IAAtB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,MAAI,CAAC,IAAjB;AACH,OAJD,EAIG,KAJH,CAIS,UAAA,GAAE,EAAK;AACZ,YAAI,GAAG,CAAC,QAAJ,CAAa,MAAb,KAAwB,GAA5B,EAAiC;AAC7B,UAAA,YAAY,CAAC,UAAb,CAAwB,OAAxB;;AACA,UAAA,MAAI,CAAC,OAAL,CAAa,OAAb,CAAqB;AAAE,YAAA,IAAI,EAAE;AAAR,WAArB;AACJ;AACH,OATD;AAUH;AAlDI;AApBE,CAAf","sourcesContent":["<template>\n    <div class=\"view_app\">\n        <div></div>\n        <div>\n            <h2>Personal Information</h2>\n            <div class=\"view_component\">\n                <div class=\"form-row justfy-start\">\n                    <div class=\"form-group col d-grid justify-center align-center\">\n                        <div class=\"d-flex align-center justify-center\">\n                            <div class=\"profile-img\">\n                                <img class=\"circle-img big\" :src=\"user.profile_img_url\" alt=\"\">\n                            </div>\n                        </div>\n                        <div class=\"flex-wrap d-flex align-center justify-center\">\n                            <span class=\"text-capture big\">@{{user.username}}</span>\n                            <!-- <label for=\"\">Username</label>\n                            <input class=\"form-control\" type=\"text\" name=\"\" id=\"username\" readonly :placeholder=\"'@'+user.username\"> -->\n                        </div>\n                    </div>\n                    <div class=\"form-group col\">\n                        <div class=\"form-row\" style=\"margin-bottom: 32px;\">\n                            <label for=\"\">First Name</label>\n                            <input v-model=\"user.first_name\" class=\"form-control\" type=\"text\" name=\"\" id=\"first_name\" :placeholder=\"user.first_name\">\n                        </div>\n                        <div class=\"form-row\">\n                            <label for=\"\">Last Name</label>\n                            <input v-model=\"user.last_name\" class=\"form-control\" type=\"text\" name=\"\" id=\"last_name\" :placeholder=\"user.last_name\">\n                        </div>\n                        \n                    </div>\n                    <!-- <div class=\"form-group col\">\n                        <label for=\"\">Last Name</label>\n                        <input v-model=\"user.last_name\" class=\"form-control\" type=\"text\" name=\"\" id=\"last_name\" :placeholder=\"user.last_name\">\n                    </div> -->\n                </div>\n            </div>\n\n            <h2>Company Information</h2>\n            <div class=\"view_component\">\n                <div class=\"form-row\">\n                    <div class=\"form-group col\">\n                        <label for=\"\">Organization Domain</label>\n                        <input class=\"form-control\" type=\"text\" name=\"\" id=\"orgn_domain\" readonly :placeholder=\"user.orgn_domain\">\n                    </div>\n                    <div class=\"form-group col\">\n                        <label for=\"\">Organization Position</label>\n                        <input v-model=\"user.orgn_position\" class=\"form-control\" type=\"text\" name=\"\" id=\"last_name\" :placeholder=\"user.orgn_position\">\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"d-flex justify-end align-center mt-2\">\n                <button class=\"btn btn-standard\" @click=\"updateAccount()\">Update Profile</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n\n    export default {\n        name: 'ViewAccount',\n        components: {\n        },\n        data() {\n            return {\n                // token: '',\n                user: {\n                    first_name: null,\n                    last_name: null,\n                    orgn_domain: null,\n                    orgn_position: null,\n                    username: null,\n                },\n            };\n        },\n        mounted() {\n            // this.getToken();\n            this.user = this.fetchUpdate();\n        },\n        methods: {\n            getToken() {\n                const parseJwt = (token) => {\n                    try {\n                      return JSON.parse(atob(token.split('.')[1]));\n                    } catch (e) {\n                      return null;\n                    }\n                };\n                return parseJwt(localStorage.getItem(\"token\"));\n            },\n            async updateAccount() {\n                let options = {\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': localStorage.getItem(\"token\"),\n                    }\n                };\n                \n                const resp = await axios.post(\"http://localhost:8080/api/v2/view/account/update\", {\n                    first_name: this.user.first_name,\n                    last_name: this.user.last_name,\n                    orgn_position: this.user.orgn_position,\n                }, options)\n                if (resp.status !== 200) {\n                    this.$toast.error(\"Mhm sorry we could not update your account\");\n                    return\n                }\n                this.$toast.success(\"Cool your account is updated!\");\n                // fetch updated user\n                this.fetchUpdate();\n            },\n            fetchUpdate() {\n                let options = {\n                    headers: {\n                        'Authorization': localStorage.getItem(\"token\"),\n                    }\n                };\n\n                let uuid = this.getToken().uuid;\n                axios.get(\"http://localhost:8080/api/v2/view/account\", options).then(resp => {\n                    console.log(resp);\n                    this.user = resp.data.user;\n                    console.log(this.user);\n                }).catch(err => {\n                    if (err.response.status === 401) {\n                        localStorage.removeItem('token');\n                        this.$router.replace({ name: 'login' });\n                    }\n                });\n            },\n        },\n    };\n</script>\n\n<style scoped>\n.tab-line {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.view_component {\n    margin-bottom: 15px;\n    padding: 15px;\n    background: #1E1E1E;\n    \n    border-radius: 8px;\n    height: max-content;\n    border: 1px solid #30363D;\n}\nh2 {\n    margin: 5px 0px;\n}\n\n.view_app {\n    height: 100%;\n}\n\n.app_list {\n    background: #0D1116;\n    border-radius: 8px;\n    padding: 15px;\n    height: max-content;\n    min-height: 225px;\n    max-height: 100%;\n    overflow-y: scroll;\n    border: 1px solid #30363D;\n}\n\n.app_name_list {\n    margin-top: 25px;\n}\n.app-name {\n    background:linear-gradient(135deg, #50e3c2 0%,#10d574 100%);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent; \n    font-size: 16px;\n    font-weight: bold;\n    padding: 5px;\n    margin: 5px 0;\n    border: 1px solid #10d574;\n    border-radius: 8px;\n    border-style: dashed;\n}\n.app-name:hover {\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n</style>\n"],"sourceRoot":""}]}