{"remainingRequest":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/node_modules/babel-loader/lib/index.js!/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/src/components/account/ViewAccount.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/src/components/account/ViewAccount.vue","mtime":1615587847304},{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMva29uc3RhbnRpbmdhc3Nlci9nby9zcmMvZ2l0aHViLmNvbS9Lb25zdGFudGluR2Fzc2VyL2NsaWNrc3RyZWFtL2Zyb250ZW5kL2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVmlld0FjY291bnQnLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyB0b2tlbjogJycsCiAgICAgIHVzZXI6IHsKICAgICAgICBmaXJzdF9uYW1lOiBudWxsLAogICAgICAgIGxhc3RfbmFtZTogbnVsbCwKICAgICAgICBvcmduX2RvbWFpbjogbnVsbCwKICAgICAgICBvcmduX3Bvc2l0aW9uOiBudWxsLAogICAgICAgIHVzZXJuYW1lOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8gdGhpcy5nZXRUb2tlbigpOwogICAgdGhpcy51c2VyID0gdGhpcy5mZXRjaFVwZGF0ZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VG9rZW46IGZ1bmN0aW9uIGdldFRva2VuKCkgewogICAgICB2YXIgcGFyc2VKd3QgPSBmdW5jdGlvbiBwYXJzZUp3dCh0b2tlbikgewogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShhdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgIH07CgogICAgICByZXR1cm4gcGFyc2VKd3QobG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikpOwogICAgfSwKICAgIHVwZGF0ZUFjY291bnQ6IGZ1bmN0aW9uIHVwZGF0ZUFjY291bnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBvcHRpb25zLCByZXNwOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdjEvdXNlci91cGRhdGUiLCB7CiAgICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6IF90aGlzLnVzZXIuZmlyc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgbGFzdF9uYW1lOiBfdGhpcy51c2VyLmxhc3RfbmFtZSwKICAgICAgICAgICAgICAgICAgb3Jnbl9wb3NpdGlvbjogX3RoaXMudXNlci5vcmduX3Bvc2l0aW9uCiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzcC5zdGF0dXMgIT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiR0b2FzdC5lcnJvcigiTWhtIHNvcnJ5IHdlIGNvdWxkIG5vdCB1cGRhdGUgeW91ciBhY2NvdW50Iik7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzLiR0b2FzdC5zdWNjZXNzKCJDb29sIHlvdXIgYWNjb3VudCBpcyB1cGRhdGVkISIpOyAvLyBmZXRjaCB1cGRhdGVkIHVzZXIKCgogICAgICAgICAgICAgICAgX3RoaXMuZmV0Y2hVcGRhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGZldGNoVXBkYXRlOiBmdW5jdGlvbiBmZXRjaFVwZGF0ZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgb3B0aW9ucyA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgdXVpZCA9IHRoaXMuZ2V0VG9rZW4oKS51dWlkOwogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdjEvdXNlci9nZXRieWlkP3V1aWQ9IiArIHV1aWQsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwKTsKICAgICAgICBfdGhpczIudXNlciA9IHJlc3AuZGF0YS51c2VyOwogICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi51c2VyKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/konstantingasser/go/src/github.com/KonstantinGasser/clickstream/frontend/app/src/components/account/ViewAccount.vue"],"names":[],"mappings":";;;;AA4CI,OAAO,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,aADK;AAEX,EAAA,UAAU,EAAE,EAFD;AAIX,EAAA,IAJW,kBAIJ;AACH,WAAO;AACH;AACA,MAAA,IAAI,EAAE;AACF,QAAA,UAAU,EAAE,IADV;AAEF,QAAA,SAAS,EAAE,IAFT;AAGF,QAAA,WAAW,EAAE,IAHX;AAIF,QAAA,aAAa,EAAE,IAJb;AAKF,QAAA,QAAQ,EAAE;AALR;AAFH,KAAP;AAUH,GAfU;AAgBX,EAAA,OAhBW,qBAgBD;AACN;AACA,SAAK,IAAL,GAAY,KAAK,WAAL,EAAZ;AACH,GAnBU;AAoBX,EAAA,OAAO,EAAE;AACL,IAAA,QADK,sBACM;AACP,UAAM,QAAO,GAAI,SAAX,QAAW,CAAC,KAAD,EAAW;AACxB,YAAI;AACF,iBAAO,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,KAAK,CAAC,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAD,CAAf,CAAP;AACF,SAFA,CAEE,OAAO,CAAP,EAAU;AACV,iBAAO,IAAP;AACF;AACH,OAND;;AAOA,aAAO,QAAQ,CAAC,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAD,CAAf;AACH,KAVI;AAWC,IAAA,aAXD,2BAWiB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,gBAAA,OADc,GACJ;AACV,kBAAA,OAAO,EAAE;AACL,oCAAgB,kBADX;AAEL,qCAAiB,YAAY,CAAC,OAAb,CAAqB,OAArB;AAFZ;AADC,iBADI;AAAA;AAAA,uBAQC,KAAK,CAAC,IAAN,CAAW,0CAAX,EAAuD;AACtE,kBAAA,UAAU,EAAE,KAAI,CAAC,IAAL,CAAU,UADgD;AAEtE,kBAAA,SAAS,EAAE,KAAI,CAAC,IAAL,CAAU,SAFiD;AAGtE,kBAAA,aAAa,EAAE,KAAI,CAAC,IAAL,CAAU;AAH6C,iBAAvD,EAIhB,OAJgB,CARD;;AAAA;AAQZ,gBAAA,IARY;;AAAA,sBAad,IAAI,CAAC,MAAL,KAAgB,GAbF;AAAA;AAAA;AAAA;;AAcd,gBAAA,KAAI,CAAC,MAAL,CAAY,KAAZ,CAAkB,4CAAlB;;AAdc;;AAAA;AAiBlB,gBAAA,KAAI,CAAC,MAAL,CAAY,OAAZ,CAAoB,+BAApB,EAjBkB,CAkBlB;;;AACA,gBAAA,KAAI,CAAC,WAAL;;AAnBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBrB,KA/BI;AAgCL,IAAA,WAhCK,yBAgCS;AAAA;;AACV,UAAI,OAAM,GAAI;AACV,QAAA,OAAO,EAAE;AACL,2BAAiB,YAAY,CAAC,OAAb,CAAqB,OAArB;AADZ;AADC,OAAd;AAMA,UAAI,IAAG,GAAI,KAAK,QAAL,GAAgB,IAA3B;AACA,MAAA,KAAK,CAAC,GAAN,CAAU,oDAAkD,IAA5D,EAAkE,OAAlE,EAA2E,IAA3E,CAAgF,UAAA,IAAG,EAAK;AACpF,QAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AACA,QAAA,MAAI,CAAC,IAAL,GAAY,IAAI,CAAC,IAAL,CAAU,IAAtB;AACA,QAAA,OAAO,CAAC,GAAR,CAAY,MAAI,CAAC,IAAjB;AACH,OAJD,EAIG,KAJH,CAIS,UAAA,GAAE,EAAK;AACZ,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACH,OAND;AAOH;AA/CI;AApBE,CAAf","sourcesContent":["<template>\n    <div class=\"view_app\">\n        <div></div>\n        <div>\n            <h2>Personal Information</h2>\n            <div class=\"view_component\">\n                <div class=\"form-row\">\n                    <div class=\"form-group col\">\n                        <label for=\"\">First Name</label>\n                        <input v-model=\"user.first_name\" class=\"form-control\" type=\"text\" name=\"\" id=\"first_name\" :placeholder=\"user.first_name\">\n                    </div>\n                    <div class=\"form-group col\">\n                        <label for=\"\">Last Name</label>\n                        <input v-model=\"user.last_name\" class=\"form-control\" type=\"text\" name=\"\" id=\"last_name\" :placeholder=\"user.last_name\">\n                    </div>\n                    <div class=\"form-group col\">\n                        <label for=\"\">Username</label>\n                        <input class=\"form-control\" type=\"text\" name=\"\" id=\"username\" readonly :placeholder=\"'@'+user.username\">\n                    </div>\n                </div>\n            </div>\n\n            <h2>Company Information</h2>\n            <div class=\"view_component\">\n                <div class=\"form-row\">\n                    <div class=\"form-group col\">\n                        <label for=\"\">Organization Domain</label>\n                        <input class=\"form-control\" type=\"text\" name=\"\" id=\"orgn_domain\" readonly :placeholder=\"user.orgn_domain\">\n                    </div>\n                    <div class=\"form-group col\">\n                        <label for=\"\">Organization Position</label>\n                        <input v-model=\"user.orgn_position\" class=\"form-control\" type=\"text\" name=\"\" id=\"last_name\" :placeholder=\"user.orgn_position\">\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"d-flex justify-end align-center mt-2\">\n                <button class=\"btn btn-standard\" @click=\"updateAccount()\">Update Profile</button>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import axios from 'axios';\n\n    export default {\n        name: 'ViewAccount',\n        components: {\n        },\n        data() {\n            return {\n                // token: '',\n                user: {\n                    first_name: null,\n                    last_name: null,\n                    orgn_domain: null,\n                    orgn_position: null,\n                    username: null,\n                },\n            };\n        },\n        mounted() {\n            // this.getToken();\n            this.user = this.fetchUpdate();\n        },\n        methods: {\n            getToken() {\n                const parseJwt = (token) => {\n                    try {\n                      return JSON.parse(atob(token.split('.')[1]));\n                    } catch (e) {\n                      return null;\n                    }\n                };\n                return parseJwt(localStorage.getItem(\"token\"));\n            },\n            async updateAccount() {\n                let options = {\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': localStorage.getItem(\"token\"),\n                    }\n                };\n                \n                const resp = await axios.post(\"http://localhost:8080/api/v1/user/update\", {\n                    first_name: this.user.first_name,\n                    last_name: this.user.last_name,\n                    orgn_position: this.user.orgn_position,\n                }, options)\n                if (resp.status !== 200) {\n                    this.$toast.error(\"Mhm sorry we could not update your account\");\n                    return\n                }\n                this.$toast.success(\"Cool your account is updated!\");\n                // fetch updated user\n                this.fetchUpdate();\n            },\n            fetchUpdate() {\n                let options = {\n                    headers: {\n                        'Authorization': localStorage.getItem(\"token\"),\n                    }\n                };\n\n                let uuid = this.getToken().uuid;\n                axios.get(\"http://localhost:8080/api/v1/user/getbyid?uuid=\"+uuid, options).then(resp => {\n                    console.log(resp);\n                    this.user = resp.data.user;\n                    console.log(this.user);\n                }).catch(err => {\n                    console.log(err);\n                });\n            },\n        },\n    };\n</script>\n\n<style scoped>\n.tab-line {\n    grid-column: 1;\n    grid-row: 1;\n}\n\n.view_component {\n    margin-bottom: 15px;\n    padding: 15px;\n    background: #0D1116;\n    border-radius: 8px;\n    height: max-content;\n    border: 1px solid #30363D;\n}\nh2 {\n    margin: 5px 0px;\n}\n\n.view_app {\n    height: 100%;\n}\n\n.app_list {\n    background: #0D1116;\n    border-radius: 8px;\n    padding: 15px;\n    height: max-content;\n    min-height: 225px;\n    max-height: 100%;\n    overflow-y: scroll;\n    border: 1px solid #30363D;\n}\n\n.app_name_list {\n    margin-top: 25px;\n}\n.app-name {\n    background:linear-gradient(135deg, #50e3c2 0%,#10d574 100%);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent; \n    font-size: 16px;\n    font-weight: bold;\n    padding: 5px;\n    margin: 5px 0;\n    border: 1px solid #10d574;\n    border-radius: 8px;\n    border-style: dashed;\n}\n.app-name:hover {\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n</style>\n"],"sourceRoot":""}]}